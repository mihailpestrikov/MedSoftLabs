# Reception UI

Frontend для системы регистрации пациентов в медицинском учреждении.

## Технологии

- **Svelte** - реактивный UI фреймворк
- **Vite** - сборщик и dev-сервер
- **HTTPS** - самоподписанные сертификаты для dev-окружения

### Почему Svelte?

- **Компилятор вместо runtime** - нет лишнего кода фреймворка в браузере, меньше бандл
- **Встроенная реактивность** - не нужны useState/useMemo/useCallback, просто `let count = 0`
- **Меньше boilerplate** - `bind:value` вместо value + onChange, встроенные stores
- **Автоматическая оптимизация** - точные обновления DOM без Virtual DOM diffing

## Архитектура

```
src/
├── components/     
│   ├── Login.svelte
│   ├── Dashboard.svelte
│   ├── PatientForm.svelte
│   └── PatientList.svelte
├── stores/         
│   ├── auth.js
│   └── patients.js
├── services/       
│   └── api.js
└── styles/         
    └── global.css
```

## Основная логика

### Авторизация
- JWT токены: access token (15 мин, в памяти) + refresh token (7 дней, HttpOnly cookie)
- Автоматическое обновление access token при 401
- Восстановление сессии при перезагрузке страницы через refresh token

### Работа с пациентами
- Форма добавления пациента с валидацией:
  - ФИО без цифр
  - Дата рождения от 120 лет назад до сегодня
- Список пациентов с автообновлением каждые 5 секунд
- Отслеживание синхронизации HIS ID (меняет цвет когда получен от больницы)
- Удаление пациента

### API
- Все запросы через Vite proxy (избегаем CORS)
- Автоматическая повторная попытка с обновленным токеном при истечении
- Обработка ошибок с отображением в UI

## Скриншоты

### Страница входа
![Login Page](../img/login.jpg)

### Dashboard с формой добавления пациента и списком пациентов
![Reception UI](../img/dashbord.jpg)
